<idea-plugin>
    <id>com.github.clojure-lsp</id>
    <name>Clojure LSP</name>
    <vendor url="https://github.com/clojure-lsp/clojure-lsp-intellij-plugin">clojure-lsp</vendor>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="Clojure" language="clojure" extensions="clj;cljs;cljc;cljd;edn;bb;clj_kondo"
                  implementationClass="com.github.clojure_lsp.intellij.ClojureFileType" fieldName="INSTANCE"/>
        <lang.syntaxHighlighterFactory language="clojure" implementationClass="com.github.clojure-lsp.intellij.extension.SyntaxHighlighter"/>


        <postStartupActivity
            implementation="com.github.clojure_lsp.intellij.extension.Startup"/>

        <statusBarWidgetFactory
            id="clojure-lsp-status-bar"
            displayName="Clojure LSP"
            order="before positionWidget"
            implementation="com.github.clojure_lsp.intellij.extension.StatusBar" />

        <editorFactoryDocumentListener
            implementation="com.github.clojure_lsp.intellij.listener.FileListener"/>

        <externalAnnotator language="clojure" implementationClass="com.github.clojure_lsp.intellij.extension.Annotator" />

        <spellchecker.bundledDictionaryProvider implementation="com.github.clojure_lsp.intellij.extension.BundledDictionaryProvider"/>
    </extensions>

    <projectListeners>
        <listener topic="com.intellij.openapi.fileEditor.FileEditorManagerListener"
                  class="com.github.clojure_lsp.intellij.listener.FileListener"/>
        <!-- TODO listen to vfs events outside editor -->
        <!-- <listener topic="com.intellij.openapi.vfs.newvfs.BulkFileListener" -->
        <!--           class="com.github.clojure_lsp.intellij.listener.FileListener"/> -->

    </projectListeners>
</idea-plugin>
